<h2>
    Abfahrten 
    @if (platformData !== undefined) {
        in {{platformData.name}}
    }
</h2>
<table mat-table [dataSource]="departureData">

    <ng-container matColumnDef="departureTime">
        <th mat-header-cell *matHeaderCellDef> 
            Abfahrt
        </th>
        <td mat-cell *matCellDef="let element"> 
            {{element.when | date:'dd.MM.yy'}}
            <br>
            <div class="departureTime">
                {{element.when | date:'\'um \'HH:mm'}}
            </div> 
        </td>
    </ng-container>
    <ng-container matColumnDef="line">
        <th mat-header-cell *matHeaderCellDef> 
            Zug / Linie 
        </th>
        <td mat-cell *matCellDef="let element"> 
            {{element.line.name}}
            <br>
            {{element.line.productName}} 
        </td>
    </ng-container>
    <ng-container matColumnDef="direction">
        <th mat-header-cell *matHeaderCellDef> 
            Richtung 
        </th>
        <td mat-cell *matCellDef="let element"> 
            {{element.direction}} 
        </td>
    </ng-container>
    <ng-container matColumnDef="station">
        <th mat-header-cell *matHeaderCellDef> 
            Gleis 
        </th>
        <td mat-cell *matCellDef="let element"> 
            {{element.platform}} 
        </td>
    </ng-container>

    <ng-container matColumnDef="delay">
        <th mat-header-cell *matHeaderCellDef> 
            Verspätung
        </th>
        <td mat-cell *matCellDef="let element"  [class]="(element.delay !== null && element.delay > 0)?'delayed':'onTime'"> 
            @if (element.delay !== null && element.delay > 0) {
                + {{element.delay / 60}} Min. 
            } @else {
                pünktlich
            }
        </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr 
        mat-row 
        *matRowDef="let row; columns: displayedColumns;"
    >
        
    </tr>
</table>